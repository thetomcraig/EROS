{% extends 'scrapers/base.html' %}
{% block main %}

<div style="padding-left:3%; padding-right:3%">
  {% if twitter_posts %}
      <h4>{{ table_title }}</h4>
      <table class="table-striped" style="border-collapse:collapse;">
        <tbody>
            {% for twitter_post in twitter_posts %}
              {% if forloop.counter == 3 %}
                <tr data-toggle="collapse" data-parent="#wrap" data-target=".accordian-body-markov" class="accordion-toggle">
									<td> 
										{% for word_and_id in twitter_post %}
											{% for c in colors %}
												{% if forloop.counter0 == word_and_id.1 %} 
													<font color={{ c }}>{{ word_and_id.0 }}</font>
												{% endif %}
											{% endfor %}
										{% endfor %}
									<td>
                </tr>
              {% elif forloop.counter > 3%}
                <div id="wrap">
                    <tr>
                      <td class="hiddenRow">
                        <div id="hidden-tweet {{ twitter_post }}" class="accordian-body-markov collapse">
													{% for word_and_id in twitter_post %}
														{% for c in colors %}
															{% if forloop.counter0 == word_and_id.1 %} 
																<font color={{ c }}>{{ word_and_id.0 }}</font>
															{% endif %}
														{% endfor %}
													{% endfor %}
                        </div>
                      </td>
                    </tr>
                </div>
              {% else %}
								<tr><td>
									{% for word_and_id in twitter_post %}
										{% for c in colors %}
											{% if forloop.counter0 == word_and_id.1 %} 
												<font color={{ c }}>{{ word_and_id.0 }}</font>
											{% endif %}
										{% endfor %}
									{% endfor %}
								</td></tr> 
              {% endif %}
            {% endfor %}
        </tbody>
      </table>
    {% else %}
        <p>No twitter_posts to analyze</p>
    {% endif %}
</div>

{% endblock %}
