// UXPuppetmaster ios.18
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var BuildNumber="ios.18";exports.BuildNumber=BuildNumber},{}],2:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _rulesetsRuleSetNewYearPromoJs=require("./rulesets/RuleSetNewYearPromo.js");var _rulesetsRuleSetNewYearPromoJs2=_interopRequireDefault(_rulesetsRuleSetNewYearPromoJs);var _rulesetsRuleSetSingleScreenUpsellJs=require("./rulesets/RuleSetSingleScreenUpsell.js");var _rulesetsRuleSetSingleScreenUpsellJs2=_interopRequireDefault(_rulesetsRuleSetSingleScreenUpsellJs);var activeRuleSets=[_rulesetsRuleSetNewYearPromoJs2["default"],_rulesetsRuleSetSingleScreenUpsellJs2["default"]];exports["default"]=activeRuleSets;module.exports=exports["default"]},{"./rulesets/RuleSetNewYearPromo.js":6,"./rulesets/RuleSetSingleScreenUpsell.js":7}],3:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var JSLocalizedStrings={};exports.JSLocalizedStrings=JSLocalizedStrings},{}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _buildConstants=require("../build/Constants");var _sharedSourceContext=require("../../shared/source/Context");var _sharedSourceJSLocalized=require("../../shared/source/JSLocalized");var _sharedSourceJournals=require("../../shared/source/Journals");var _sharedSourceUXPNamespace=require("../../shared/source/UXPNamespace");var _sharedSourceUXPNamespace2=_interopRequireDefault(_sharedSourceUXPNamespace);var _ActiveRuleSets=require("./ActiveRuleSets");var _ActiveRuleSets2=_interopRequireDefault(_ActiveRuleSets);var _JSLocalizedStrings=require("./JSLocalizedStrings");var _iOSProvisions=require("./iOSProvisions");_sharedSourceUXPNamespace2["default"].process=function(inputsJSON,journalsJSON){try{var provisions=new _iOSProvisions.iOSProvisions(inputsJSON);(0,_sharedSourceJSLocalized.JSLocalizedConfigure)(provisions.applicationLocale(),_JSLocalizedStrings.JSLocalizedStrings);var journals=new _sharedSourceJournals.Journals(journalsJSON);var context=new _sharedSourceContext.Context(_buildConstants.BuildNumber,_ActiveRuleSets2["default"],provisions,journals);var outputs=context.generateOutputs();return JSON.stringify(outputs)}catch(e){return JSON.stringify({"%error":typeof e==="string"?e:e.message+', stack: "'+e.stack.toString()+'"'})}}},{"../../shared/source/Context":9,"../../shared/source/JSLocalized":14,"../../shared/source/Journals":15,"../../shared/source/UXPNamespace":19,"../build/Constants":1,"./ActiveRuleSets":2,"./JSLocalizedStrings":3,"./iOSProvisions":5}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x,_x2,_x3){var _again=true;_function:while(_again){var object=_x,property=_x2,receiver=_x3;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x=parent;_x2=property;_x3=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _sharedSourceProvisions=require("../../shared/source/Provisions");var iOSProvisions=function(_Provisions){_inherits(iOSProvisions,_Provisions);function iOSProvisions(){_classCallCheck(this,iOSProvisions);_get(Object.getPrototypeOf(iOSProvisions.prototype),"constructor",this).apply(this,arguments)}_createClass(iOSProvisions,[{key:"isAppVersionLessThan",value:function isAppVersionLessThan(version1,version2){if(typeof version1!=="number"||isNaN(version1)){throw new Error("Application version must be a valid number: '"+version1+"'")}if(typeof version2!=="number"||isNaN(version2)){throw new Error("Application version must be a valid number: '"+version2+"'")}return version1<version2}}]);return iOSProvisions}(_sharedSourceProvisions.Provisions);exports.iOSProvisions=iOSProvisions},{"../../shared/source/Provisions":16}],6:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _sharedSourceRuleSet=require("../../../shared/source/RuleSet");var _sharedSourceRuleSet2=_interopRequireDefault(_sharedSourceRuleSet);var Outputs={NewYearPromo:{enabled:"ios.newYearPromo.enabled",startDate:"ios.newYearPromo.startDate",endDate:"ios.newYearPromo.endDate"}};var ruleSet=new _sharedSourceRuleSet2["default"]("NewYearPromo",318359);ruleSet.declareOutputNamesFromValues(Outputs.NewYearPromo);ruleSet.setOutputGenerator(function(ruleSetContext){ruleSetContext.addOutput(Outputs.NewYearPromo.enabled,function(){return false});ruleSetContext.addOutput(Outputs.NewYearPromo.startDate,function(){return"2015-12-24 05:00:00 +0000"});ruleSetContext.addOutput(Outputs.NewYearPromo.endDate,function(){return"2016-01-08 09:59:00 +0000"})});exports["default"]=ruleSet;module.exports=exports["default"]},{"../../../shared/source/RuleSet":17}],7:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _sharedSourceRuleSet=require("../../../shared/source/RuleSet");var _sharedSourceRuleSet2=_interopRequireDefault(_sharedSourceRuleSet);var Outputs={SingleScreenUpsell:{singleScreen:"ios.upsell.singleScreen"}};var ruleSet=new _sharedSourceRuleSet2["default"]("SingleScreenUpsell",318359);ruleSet.declareOutputNamesFromValues(Outputs.SingleScreenUpsell);ruleSet.setOutputGenerator(function(ruleSetContext){var group=ruleSetContext.provisions.groupForExperiment("conv_ios_upgradeFlow_IOSNOTE-21474_v2")%10;ruleSetContext.addOutput(Outputs.SingleScreenUpsell.singleScreen,function(){return group>7})});exports["default"]=ruleSet;module.exports=exports["default"]},{"../../../shared/source/RuleSet":17}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _UXPNamespace=require("./UXPNamespace");var _UXPNamespace2=_interopRequireDefault(_UXPNamespace);var UXPConsole=function(){function UXPConsole(){_classCallCheck(this,UXPConsole);this.setupLogger()}_createClass(UXPConsole,[{key:"setupLogger",value:function setupLogger(){var logLevel=_UXPNamespace2["default"].logLevel;if(!logLevel&&typeof UXP!=="undefined"){logLevel=function(logData){UXP.log(logData["message"])}}if(!logLevel&&typeof window!=="undefined"){logLevel=function(logData){console.log.apply(console,[logData["logLevel"]].concat(logData["message"]))}}if(!logLevel){logLevel=function(){}}this._logLevel=logLevel}},{key:"logFormatter",value:function logFormatter(level,objects){this._logLevel({logLevel:level,message:objects.join(", ")})}},{key:"debug",value:function debug(){for(var _len=arguments.length,data=Array(_len),_key=0;_key<_len;_key++){data[_key]=arguments[_key]}this.logFormatter("debug",data)}},{key:"info",value:function info(){for(var _len2=arguments.length,data=Array(_len2),_key2=0;_key2<_len2;_key2++){data[_key2]=arguments[_key2]}this.logFormatter("info",data)}},{key:"warn",value:function warn(){for(var _len3=arguments.length,data=Array(_len3),_key3=0;_key3<_len3;_key3++){data[_key3]=arguments[_key3]}this.logFormatter("warn",data)}},{key:"error",value:function error(){for(var _len4=arguments.length,data=Array(_len4),_key4=0;_key4<_len4;_key4++){data[_key4]=arguments[_key4]}this.logFormatter("error",data)}},{key:"log",value:function log(){for(var _len5=arguments.length,data=Array(_len5),_key5=0;_key5<_len5;_key5++){data[_key5]=arguments[_key5]}this.info(data)}}]);return UXPConsole}();var uxpConsole=new UXPConsole;exports.console=uxpConsole},{"./UXPNamespace":19}],9:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _Console=require("./Console");var _RuleSetContext=require("./RuleSetContext");var _RuleSetContext2=_interopRequireDefault(_RuleSetContext);var StaticOutputs={googleAnalyticsDimensions:"%googleAnalyticsDimensions",googleAnalyticsSessionEvents:"%googleAnalyticsSessionEvents",failureAreas:"%failureAreas",usedInputs:"%usedInputs",timeToNextTrigger:"%timeToNextTrigger",isCurrentAppSupported:"%isCurrentAppSupported",version:"%version",error:"%error"};exports.StaticOutputs=StaticOutputs;var Context=function(){function Context(buildNumber,activeRuleSets,provisions,journals){_classCallCheck(this,Context);this.buildNumber=buildNumber;this.activeRuleSets=activeRuleSets;this.provisions=provisions;this.journals=journals}_createClass(Context,[{key:"freezeRuleSets",value:function freezeRuleSets(){this.activeRuleSets.forEach(function(ruleSet){ruleSet.freeze()})}},{key:"validateRuleSets",value:function validateRuleSets(){this.activeRuleSets.forEach(function(ruleSet){ruleSet.validateRuleSet()});function checkDuplicates(ruleSets,propertyName,testFnName,errorFn){ruleSets=ruleSets.slice();var ruleSet1=ruleSets.pop();if(!ruleSet1){return}ruleSets.forEach(function(ruleSet2){var objArray=ruleSet2[propertyName];objArray.forEach(function(value){if(ruleSet1[testFnName](value)){throw new Error(errorFn(ruleSet1,ruleSet2,value))}})});checkDuplicates(ruleSets,propertyName,testFnName)}checkDuplicates(this.activeRuleSets,"_declaredOutputNames","hasOutputName",function(set1,set2,value){return'Shared output "'+value+'" found in rule sets "'+set1.name+' & "'+set2.name+'"'});checkDuplicates(this.activeRuleSets,"_declaredGAEvents","hasGoogleAnalyticsEvent",function(set1,set2,value){return'Shared Google event "'+value.toJSON()+'" found in rule sets "'+set1.name+' & "'+set2.name+'"'});checkDuplicates(this.activeRuleSets,"_declaredGAEventExtensions","hasGoogleAnalyticsEventExtension",function(set1,set2,value){return'Shared Google event extension "'+value.toJSON()+'" found in rule sets "'+set1.name+' & "'+set2.name+'"'})}},{key:"generateOutputs",value:function generateOutputs(){var _this=this;var appVersion=this.provisions.appVersion();_Console.console.log("Generating outputs for app version: "+appVersion);this.freezeRuleSets();this.validateRuleSets();var collectedOutputs={};var failureAreas=[];var collectedEvents=[];var collectedEventExtensions=[];var isCurrentAppSupported=false;this.activeRuleSets.forEach(function(ruleSet){if(!_this.provisions.isAppVersionInRange(appVersion,ruleSet.minAppVersion,ruleSet.maxAppVersion)){return}isCurrentAppSupported=true;try{_Console.console.log("### Applying rule set '"+ruleSet.name+"' ###");var ruleSetContext=new _RuleSetContext2["default"](ruleSet,_this.provisions,_this.journals);ruleSet.generateOutputs(ruleSetContext);for(var key in ruleSetContext.outputs){collectedOutputs[key]=ruleSetContext.outputs[key]}collectedEvents=collectedEvents.concat(ruleSetContext.events);collectedEventExtensions=collectedEventExtensions.concat(ruleSetContext.eventExtensions)}catch(e){_Console.console.error("Rule set '"+ruleSet.name+"' generation failed, error: "+e.message);failureAreas.push({type:"RuleSet",name:ruleSet.name,error:e.toString()?e.toString():"Unknown",stack:e.stack.toString()})}});collectedOutputs[StaticOutputs.googleAnalyticsDimensions]=collectedEventExtensions;collectedOutputs[StaticOutputs.googleAnalyticsSessionEvents]=collectedEvents;collectedOutputs[StaticOutputs.failureAreas]=failureAreas;collectedOutputs[StaticOutputs.usedInputs]=Object.keys(this.provisions.inputs.usedInputs);collectedOutputs[StaticOutputs.timeToNextTrigger]=this.provisions.inputs.timeToNextTrigger;collectedOutputs[StaticOutputs.isCurrentAppSupported]=isCurrentAppSupported;collectedOutputs[StaticOutputs.version]=""+this.buildNumber;return collectedOutputs}}]);return Context}();exports.Context=Context},{"./Console":8,"./RuleSetContext":18}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _HashMD5=require("./HashMD5");var _sourceInputs=require("../source/Inputs");var CoreProvisions=function(){function CoreProvisions(inputsJSON){_classCallCheck(this,CoreProvisions);this.inputs=new _sourceInputs.Inputs(inputsJSON)}_createClass(CoreProvisions,[{key:"appVersion",value:function appVersion(){var applicationVersion=this.inputs.evalInput("applicationVersion",null);if(applicationVersion===null){throw new Error('inputs["applicationVersion"] must be defined.')}return applicationVersion}},{key:"isAppVersionLessThan",value:function isAppVersionLessThan(version1,version2){throw new Error("versionLessThanFn must be overridden")}},{key:"isAppVersionInRange",value:function isAppVersionInRange(version,minVersion,maxVersion){if(this.isAppVersionLessThan(version,minVersion)){return false}if(maxVersion==null){return true}if(this.isAppVersionLessThan(maxVersion,minVersion)){throw new Error("Max version must be same or greater as min version")}return!this.isAppVersionLessThan(maxVersion,version)}},{key:"isAppVersionSame",value:function isAppVersionSame(version1,version2){return!this.isAppVersionLessThan(version1,version2)&&!this.isAppVersionLessThan(version2,version1)}},{key:"userId",value:function userId(){return this.inputs.evalInput("userID",0).toString()}},{key:"groupForUserId",value:function groupForUserId(userId,experimentId,totalWeight){var dataMD5=(0,_HashMD5.md5)(""+userId+experimentId);var pool=dataMD5.charCodeAt(dataMD5.length-2)<<8|dataMD5.charCodeAt(dataMD5.length-1);return pool%totalWeight}},{key:"groupForExperiment",value:function groupForExperiment(experimentId){return this.groupForUserId(this.userId(),experimentId,100)}},{key:"userIdGroup",value:function userIdGroup(){var matcher=this.userId().match(/(\d?\d)$/);if(matcher&&matcher.length>0){return parseInt(matcher[1])}throw new Error("UserId cannot be parsed: "+this.userId())}},{key:"isUserIdInGroup",value:function isUserIdInGroup(groupArray){var userIdGroup=this.userIdGroup();for(var i=0;i<groupArray.length;i++){var groupId=groupArray[i];if(groupId===userIdGroup){return true}}return false}}]);return CoreProvisions}();exports.CoreProvisions=CoreProvisions},{"../source/Inputs":13,"./HashMD5":12}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var GAEvent=function(){function GAEvent(category,action,label,value){_classCallCheck(this,GAEvent);var typeCheck=function typeCheck(paramValue,paramName,reqType){if(paramValue!=null&&typeof paramValue!==reqType){throw"Invalid '"+paramName+"' param type in GAEvent, is: \""+paramValue+'" ('+typeof paramValue+"), should be: "+reqType}};typeCheck(category,"category","string");typeCheck(action,"action","string");typeCheck(label,"label","string");typeCheck(value,"value","number");this.category=category==null?undefined:category;this.action=action==null?undefined:action;this.label=label==null?undefined:label;this.value=value==null?undefined:value;this.dimensions={}}_createClass(GAEvent,[{key:"addDimension",value:function addDimension(name,value){if(this.dimensions[name]){throw"GA dimension has already been specified, name: '"+name+"'"}this.dimensions[name]=value}},{key:"exportToEvernoteAnalyticsDB",value:function exportToEvernoteAnalyticsDB(){this.addDimension("export_to_db","1")}},{key:"addExperimentVariant",value:function addExperimentVariant(experiment,variant){this.addDimension("experiment",experiment);this.addDimension("variant",variant)}},{key:"toJSON",value:function toJSON(){var obj={};if(this.category!==undefined){obj["category"]=this.category}if(this.action!==undefined){obj["action"]=this.action}if(this.label!==undefined){obj["label"]=this.label}if(this.value!==undefined){obj["value"]=this.value}if(Object.keys(this.dimensions).length>0){obj["dimensions"]=this.dimensions}return obj}},{key:"matchesWildcard",value:function matchesWildcard(event){var _this=this;return!["category","action","label","value"].some(function(selector){return _this[selector]!=undefined&&event[selector]!=undefined&&_this[selector]!=event[selector]})}},{key:"matchesExactly",value:function matchesExactly(event){var _this2=this;return!["category","action","label","value"].some(function(selector){return _this2[selector]!=event[selector]})}}]);return GAEvent}();exports["default"]=GAEvent;GAEvent.SPLIT_TEST_CATEGORY="split_test";module.exports=exports["default"]},{}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function safe_add(x,y){var lsw=(x&65535)+(y&65535),msw=(x>>16)+(y>>16)+(lsw>>16);return msw<<16|lsw&65535}function bit_rol(num,cnt){return num<<cnt|num>>>32-cnt}function md5_cmn(q,a,b,x,s,t){return safe_add(bit_rol(safe_add(safe_add(a,q),safe_add(x,t)),s),b)}function md5_ff(a,b,c,d,x,s,t){return md5_cmn(b&c|~b&d,a,b,x,s,t)}function md5_gg(a,b,c,d,x,s,t){return md5_cmn(b&d|c&~d,a,b,x,s,t)}function md5_hh(a,b,c,d,x,s,t){return md5_cmn(b^c^d,a,b,x,s,t)}function md5_ii(a,b,c,d,x,s,t){return md5_cmn(c^(b|~d),a,b,x,s,t)}function binl_md5(x,len){x[len>>5]|=128<<len%32;x[(len+64>>>9<<4)+14]=len;var i,olda,oldb,oldc,oldd,a=1732584193,b=-271733879,c=-1732584194,d=271733878;for(i=0;i<x.length;i+=16){olda=a;oldb=b;oldc=c;oldd=d;a=md5_ff(a,b,c,d,x[i],7,-680876936);d=md5_ff(d,a,b,c,x[i+1],12,-389564586);c=md5_ff(c,d,a,b,x[i+2],17,606105819);b=md5_ff(b,c,d,a,x[i+3],22,-1044525330);a=md5_ff(a,b,c,d,x[i+4],7,-176418897);d=md5_ff(d,a,b,c,x[i+5],12,1200080426);c=md5_ff(c,d,a,b,x[i+6],17,-1473231341);b=md5_ff(b,c,d,a,x[i+7],22,-45705983);a=md5_ff(a,b,c,d,x[i+8],7,1770035416);d=md5_ff(d,a,b,c,x[i+9],12,-1958414417);c=md5_ff(c,d,a,b,x[i+10],17,-42063);b=md5_ff(b,c,d,a,x[i+11],22,-1990404162);a=md5_ff(a,b,c,d,x[i+12],7,1804603682);d=md5_ff(d,a,b,c,x[i+13],12,-40341101);c=md5_ff(c,d,a,b,x[i+14],17,-1502002290);b=md5_ff(b,c,d,a,x[i+15],22,1236535329);a=md5_gg(a,b,c,d,x[i+1],5,-165796510);d=md5_gg(d,a,b,c,x[i+6],9,-1069501632);c=md5_gg(c,d,a,b,x[i+11],14,643717713);b=md5_gg(b,c,d,a,x[i],20,-373897302);a=md5_gg(a,b,c,d,x[i+5],5,-701558691);d=md5_gg(d,a,b,c,x[i+10],9,38016083);c=md5_gg(c,d,a,b,x[i+15],14,-660478335);b=md5_gg(b,c,d,a,x[i+4],20,-405537848);a=md5_gg(a,b,c,d,x[i+9],5,568446438);d=md5_gg(d,a,b,c,x[i+14],9,-1019803690);c=md5_gg(c,d,a,b,x[i+3],14,-187363961);b=md5_gg(b,c,d,a,x[i+8],20,1163531501);a=md5_gg(a,b,c,d,x[i+13],5,-1444681467);d=md5_gg(d,a,b,c,x[i+2],9,-51403784);c=md5_gg(c,d,a,b,x[i+7],14,1735328473);b=md5_gg(b,c,d,a,x[i+12],20,-1926607734);a=md5_hh(a,b,c,d,x[i+5],4,-378558);d=md5_hh(d,a,b,c,x[i+8],11,-2022574463);c=md5_hh(c,d,a,b,x[i+11],16,1839030562);b=md5_hh(b,c,d,a,x[i+14],23,-35309556);a=md5_hh(a,b,c,d,x[i+1],4,-1530992060);d=md5_hh(d,a,b,c,x[i+4],11,1272893353);c=md5_hh(c,d,a,b,x[i+7],16,-155497632);b=md5_hh(b,c,d,a,x[i+10],23,-1094730640);a=md5_hh(a,b,c,d,x[i+13],4,681279174);d=md5_hh(d,a,b,c,x[i],11,-358537222);c=md5_hh(c,d,a,b,x[i+3],16,-722521979);b=md5_hh(b,c,d,a,x[i+6],23,76029189);a=md5_hh(a,b,c,d,x[i+9],4,-640364487);d=md5_hh(d,a,b,c,x[i+12],11,-421815835);c=md5_hh(c,d,a,b,x[i+15],16,530742520);b=md5_hh(b,c,d,a,x[i+2],23,-995338651);a=md5_ii(a,b,c,d,x[i],6,-198630844);d=md5_ii(d,a,b,c,x[i+7],10,1126891415);c=md5_ii(c,d,a,b,x[i+14],15,-1416354905);b=md5_ii(b,c,d,a,x[i+5],21,-57434055);a=md5_ii(a,b,c,d,x[i+12],6,1700485571);d=md5_ii(d,a,b,c,x[i+3],10,-1894986606);c=md5_ii(c,d,a,b,x[i+10],15,-1051523);b=md5_ii(b,c,d,a,x[i+1],21,-2054922799);a=md5_ii(a,b,c,d,x[i+8],6,1873313359);d=md5_ii(d,a,b,c,x[i+15],10,-30611744);c=md5_ii(c,d,a,b,x[i+6],15,-1560198380);b=md5_ii(b,c,d,a,x[i+13],21,1309151649);a=md5_ii(a,b,c,d,x[i+4],6,-145523070);d=md5_ii(d,a,b,c,x[i+11],10,-1120210379);c=md5_ii(c,d,a,b,x[i+2],15,718787259);b=md5_ii(b,c,d,a,x[i+9],21,-343485551);a=safe_add(a,olda);b=safe_add(b,oldb);c=safe_add(c,oldc);d=safe_add(d,oldd)}return[a,b,c,d]}function binl2rstr(input){var i,output="";for(i=0;i<input.length*32;i+=8){output+=String.fromCharCode(input[i>>5]>>>i%32&255)}return output}function rstr2binl(input){var i,output=[];output[(input.length>>2)-1]=undefined;for(i=0;i<output.length;i+=1){output[i]=0}for(i=0;i<input.length*8;i+=8){output[i>>5]|=(input.charCodeAt(i/8)&255)<<i%32}return output}function rstr_md5(s){return binl2rstr(binl_md5(rstr2binl(s),s.length*8))}function rstr_hmac_md5(key,data){var i,bkey=rstr2binl(key),ipad=[],opad=[],hash;ipad[15]=opad[15]=undefined;if(bkey.length>16){bkey=binl_md5(bkey,key.length*8)}for(i=0;i<16;i+=1){ipad[i]=bkey[i]^909522486;opad[i]=bkey[i]^1549556828}hash=binl_md5(ipad.concat(rstr2binl(data)),512+data.length*8);return binl2rstr(binl_md5(opad.concat(hash),512+128))}function rstr2hex(input){var hex_tab="0123456789abcdef",output="",x,i;for(i=0;i<input.length;i+=1){x=input.charCodeAt(i);output+=hex_tab.charAt(x>>>4&15)+hex_tab.charAt(x&15)}return output}function str2rstr_utf8(input){return unescape(encodeURIComponent(input))}function raw_md5(s){return rstr_md5(str2rstr_utf8(s))}function hex_md5(s){return rstr2hex(raw_md5(s))}function raw_hmac_md5(k,d){return rstr_hmac_md5(str2rstr_utf8(k),str2rstr_utf8(d))}function hex_hmac_md5(k,d){return rstr2hex(raw_hmac_md5(k,d))}function md5(string,key,raw){if(!key){if(!raw){return hex_md5(string)}return raw_md5(string)}if(!raw){return hex_hmac_md5(key,string)}return raw_hmac_md5(key,string)}exports.md5=raw_md5;exports.hexString=rstr2hex},{}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _HashMD5=require("./HashMD5");var Inputs=function Inputs(inputsJSON){_classCallCheck(this,Inputs);if(typeof inputsJSON!=="string"){throw new Error("Bad inputs object <"+typeof inputsJSON+">: {"+inputsJSON+"}")}var inputs=JSON.parse(inputsJSON);this.timeToNextTrigger=24*60*60;this.usedInputs={};this.evalInput=function(inputName,defaultValue){if(defaultValue===undefined){throw new Error("evalInput requires defaultValue for inputName: "+inputName+"}")}this.usedInputs[inputName]=true;var inputValue=inputs[inputName];return inputValue==null?defaultValue:inputValue};this.evalDateTrigger=function(inputName,adjustment,defaultValue){if(typeof defaultValue!=="boolean"){throw new Error("Default value must be true or false")}var dateString=this.evalInput(inputName,0);if(dateString===0){return defaultValue}var date=new Date(dateString);var timeToTrigger=(date-Date.now())/1e3+adjustment;if(timeToTrigger>0){this.timeToNextTrigger=Math.min(this.timeToNextTrigger,timeToTrigger);return true}return false};this.isBeforeSomeDaysAgo=function(inputName,days,defaultValue){return!this.evalDateTrigger(inputName,days*60*60*24,!defaultValue)};this.isAfterSomeDaysAgo=function(inputName,days,defaultValue){return this.evalDateTrigger(inputName,days*60*60*24,defaultValue)}};exports.Inputs=Inputs},{"./HashMD5":12}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=JSLocalized;exports.JSLocalizedConfigure=JSLocalizedConfigure;var currentLocale=null;var localeStrings=null;function JSLocalized(key,comment){if(currentLocale&&localeStrings&&localeStrings[key]&&localeStrings[key][currentLocale]){return localeStrings[key][currentLocale]}return key}function JSLocalizedConfigure(locale,strings){currentLocale=locale;localeStrings=strings}},{}],15:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _Console=require("./Console");var Journal=function Journal(outputName,journal){_classCallCheck(this,Journal);function match(name,type,convertFn){var value=journal[name];if(value===undefined){return null}if(typeof value!==type){_Console.console.log('Journal "'+outputName+'" field "'+name+'" type should be "'+type+'", found "'+typeof value+'", value "'+value+'"');return null}return convertFn?convertFn(value):value}this.outputName=outputName;this.shownCount=match("shownCount","number");this.lastTimeShown=match("lastTimeShown","string",function(date){return new Date(date)});this.optedOut=match("optedOut","boolean")};var Journals=function Journals(journalsJSON){_classCallCheck(this,Journals);if(typeof journalsJSON!=="string"){throw new Error("Bad journals object <"+typeof journalsJSON+">: {"+journalsJSON+"}")}var journalsData=JSON.parse(journalsJSON);var journals={};Object.keys(journalsData).forEach(function(outputKey){journals[outputKey]=new Journal(outputKey,journalsData[outputKey])});this.journalForName=function(name){var journal=journals[name];if(!journal){journal=new Journal(name,{})}return journal}};exports.Journals=Journals},{"./Console":8}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _get=function get(_x9,_x10,_x11){var _again=true;_function:while(_again){var object=_x9,property=_x10,receiver=_x11;_again=false;if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined}else{_x9=parent;_x10=property;_x11=receiver;_again=true;desc=parent=undefined;continue _function}}else if("value"in desc){return desc.value}else{var getter=desc.get;if(getter===undefined){return undefined}return getter.call(receiver)}}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var _CoreProvisions2=require("./CoreProvisions");var SERVICE_LOCATION=["international","china"];var SERVICE_DEPLOYMENT=["production","international"];var APPLICATION_LOCALES=["en"];var USER_ACCOUNT_LEVELS=["basic","plus","premium","business"];var Provisions=function(_CoreProvisions){_inherits(Provisions,_CoreProvisions);function Provisions(){_classCallCheck(this,Provisions);_get(Object.getPrototypeOf(Provisions.prototype),"constructor",this).apply(this,arguments)}_createClass(Provisions,[{key:"isServiceLocation",value:function isServiceLocation(expectedLocation){if(SERVICE_LOCATION.indexOf(expectedLocation)===-1){throw new Error("Unknown service location: '"+expectedLocation+"'")}var location=this.inputs.evalInput("serviceType",null);if(!location){location=this.inputs.evalInput("serviceLocation","international")}return location===expectedLocation}},{key:"isServiceDeployment",value:function isServiceDeployment(expectedDeployment){if(SERVICE_DEPLOYMENT.indexOf(expectedDeployment)===-1){throw new Error("Unknown service deployment: '"+expectedDeployment+"'");

}var deployment=this.inputs.evalInput("serviceDeployment","production");return deployment===expectedDeployment}},{key:"serviceURL",value:function serviceURL(){return"https://"+this.inputs.evalInput("serviceHost","www.evernote.com")+"/"}},{key:"applicationLocale",value:function applicationLocale(){return this.inputs.evalInput("applicationLocale","en").toLowerCase()}},{key:"isAppLanguage",value:function isAppLanguage(expectedLocale){if(APPLICATION_LOCALES.indexOf(expectedLocale)===-1){throw new Error("Unknown language: '"+expectedLocale+"'")}return expectedLocale===this.inputs.evalInput("applicationLocale","en").toLowerCase()}},{key:"isAccountLevel",value:function isAccountLevel(expectedLevel){if(USER_ACCOUNT_LEVELS.indexOf(expectedLevel)===-1){throw new Error("Unknown language: '"+expectedLevel+"'")}return expectedLevel===this.inputs.evalInput("accountLevel","basic").toLowerCase()}},{key:"isAccountLevelAtLeast",value:function isAccountLevelAtLeast(expectedLevel){var _this=this;var expectedLevelIndex=USER_ACCOUNT_LEVELS.indexOf(expectedLevel);if(expectedLevelIndex===-1){throw new Error("Unknown language: '"+expectedLevel+"'")}return USER_ACCOUNT_LEVELS.slice(expectedLevelIndex).some(function(level){return _this.isAccountLevel(level)})}},{key:"hasAccountOlderThanDays",value:function hasAccountOlderThanDays(days){return this.inputs.isBeforeSomeDaysAgo("registrationDate",days,false)}},{key:"hasAccountSyncedLastDays",value:function hasAccountSyncedLastDays(){var days=arguments.length<=0||arguments[0]===undefined?Infinity:arguments[0];if(days===Infinity){return!!this.inputs.evalInput("lastSyncCompleted",null)}return!this.inputs.isAfterSomeDaysAgo("lastSyncCompleted",days,false)}},{key:"isEvernoteEmployee",value:function isEvernoteEmployee(){return this.inputs.evalInput("businessID",0)===4&&this.isServiceLocation("international")}},{key:"isSelectedEmployee",value:function isSelectedEmployee(){if(this.isServiceLocation("international")&&this.isServiceDeployment("production")){switch(this.userId()){case"62161977":case"6204162":case"116030548":case"15210012":case"70896411":case"31747":case"27962467":return true}}return false}},{key:"hasNotes",value:function hasNotes(){var expectedCount=arguments.length<=0||arguments[0]===undefined?1:arguments[0];return this.inputs.evalInput("numberOfNotes",0)>=expectedCount}},{key:"hasPersonalClipperNotes",value:function hasPersonalClipperNotes(){var expectedCount=arguments.length<=0||arguments[0]===undefined?1:arguments[0];return this.inputs.evalInput("numberOfPersonalClipperNotes",0)>=expectedCount}},{key:"hasLocalNotebooks",value:function hasLocalNotebooks(){var expectedCount=arguments.length<=0||arguments[0]===undefined?1:arguments[0];return this.inputs.evalInput("numberOfLocalNotebooks",0)>=expectedCount}},{key:"hasPublishedPersonalNotebooks",value:function hasPublishedPersonalNotebooks(){var expectedCount=arguments.length<=0||arguments[0]===undefined?1:arguments[0];return this.inputs.evalInput("numberOfPersonalPublishedNotebooks",0)>=expectedCount}},{key:"hasActiveWorkChats",value:function hasActiveWorkChats(){var expectedCount=arguments.length<=0||arguments[0]===undefined?1:arguments[0];return this.inputs.evalInput("numberOfActiveChats",0)>=expectedCount}},{key:"hasGeolocatedNotes",value:function hasGeolocatedNotes(){var expectedCount=arguments.length<=0||arguments[0]===undefined?1:arguments[0];return this.inputs.evalInput("numberOfGeolocatedNotes",0)>=expectedCount}},{key:"hasTags",value:function hasTags(){var expectedCount=arguments.length<=0||arguments[0]===undefined?1:arguments[0];return this.inputs.evalInput("numberOfTags",0)>=expectedCount}},{key:"quotaCurrentUsage",value:function quotaCurrentUsage(){return this.inputs.evalInput("quotaCurrentUsage",0)}},{key:"quotaMaximumSpace",value:function quotaMaximumSpace(){return this.inputs.evalInput("quotaMaximumSpace",Infinity)}}]);return Provisions}(_CoreProvisions2.CoreProvisions);exports.Provisions=Provisions},{"./CoreProvisions":10}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _Console=require("./Console");var _GAEvent=require("./GAEvent");var _GAEvent2=_interopRequireDefault(_GAEvent);var RuleSet=function(){function RuleSet(name,minAppVersion){var maxAppVersion=arguments.length<=2||arguments[2]===undefined?null:arguments[2];_classCallCheck(this,RuleSet);if(!name){throw new Error("Rule set name must be specified")}if(minAppVersion==null){throw new Error("Min supported app version must be specified")}this.name=name;this.minAppVersion=minAppVersion;this.maxAppVersion=maxAppVersion;this._freezeDeclarations=false;this._outputGeneratorFn=null;this._declaredOutputNames=[];this._declaredGAEvents=[];this._declaredGAEventExtensions=[]}_createClass(RuleSet,[{key:"declareOutputNames",value:function declareOutputNames(outputNames){var _this=this;if(this._freezeDeclarations){throw new Error("All output names must be declared when RuleSet is created.")}outputNames.forEach(function(outputName){_this._declaredOutputNames.push(outputName)})}},{key:"declareOutputNamesFromValues",value:function declareOutputNamesFromValues(outputNamesMap){this.declareOutputNames(Object.keys(outputNamesMap).map(function(key){return outputNamesMap[key]}))}},{key:"hasOutputName",value:function hasOutputName(outputName){return this._declaredOutputNames.some(function(item){return item===outputName})}},{key:"declareGoogleAnalyticsEvent",value:function declareGoogleAnalyticsEvent(action){var label=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var value=arguments.length<=2||arguments[2]===undefined?null:arguments[2];if(this._freezeDeclarations){throw new Error("All Google analytics events must be declared when RuleSet is created.")}if(action===undefined){throw new Error("Google event action must be defined")}this._declaredGAEvents.push(new _GAEvent2["default"](_GAEvent2["default"].SPLIT_TEST_CATEGORY,action,label,value));this.declareGoogleAnalyticsEventExtension(_GAEvent2["default"].SPLIT_TEST_CATEGORY,action,label,value)}},{key:"hasGoogleAnalyticsEvent",value:function hasGoogleAnalyticsEvent(theEvent){return this._declaredGAEvents.some(function(event){return theEvent.matchesWildcard(event)})}},{key:"declareGoogleAnalyticsEventExtension",value:function declareGoogleAnalyticsEventExtension(category){var action=arguments.length<=1||arguments[1]===undefined?null:arguments[1];var label=arguments.length<=2||arguments[2]===undefined?null:arguments[2];var value=arguments.length<=3||arguments[3]===undefined?null:arguments[3];if(this._freezeDeclarations){throw new Error("All Google analytics event extensions must be declared when RuleSet is created.")}if(category===undefined){throw new Error("Google event category must be defined")}if(action===undefined){throw new Error("Google event action must be defined")}this._declaredGAEventExtensions.push(new _GAEvent2["default"](category,action,label,value))}},{key:"hasGoogleAnalyticsEventExtension",value:function hasGoogleAnalyticsEventExtension(theEvent){return this._declaredGAEventExtensions.some(function(event){return theEvent.matchesWildcard(event)})}},{key:"freeze",value:function freeze(){this._freezeDeclarations=true}},{key:"setOutputGenerator",value:function setOutputGenerator(generatorFn){this._outputGeneratorFn=generatorFn}},{key:"generateOutputs",value:function generateOutputs(ruleSetContext){this._outputGeneratorFn(ruleSetContext)}},{key:"validateRuleSet",value:function validateRuleSet(){if(!this.name||!this.name.length){throw new Error("Rule set has no name.")}if(!this._outputGeneratorFn){throw new Error("Rule set '"+this.name+"' has no output generator.")}if(!this._outputGeneratorFn){throw new Error("Rule set '"+this.name+"' has no output generator.")}if(!this._declaredOutputNames.length&&!this._declaredGAEvents.length&&!this._declaredGAEventExtensions.length){throw new Error("Rule set '"+this.name+"' has no declared outputs or events.")}if(!this._freezeDeclarations){throw new Error("Rule set '"+this.name+"' is not yet frozen.")}}}]);return RuleSet}();exports["default"]=RuleSet;module.exports=exports["default"]},{"./Console":8,"./GAEvent":11}],18:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var _GAEvent=require("./GAEvent");var _GAEvent2=_interopRequireDefault(_GAEvent);var RuleSetContext=function(){function RuleSetContext(ruleSet,provisions,journals){_classCallCheck(this,RuleSetContext);this.provisions=provisions;this.journals=journals;this.ruleSet=ruleSet;this.outputs={};this.events=[];this.eventExtensions=[]}_createClass(RuleSetContext,[{key:"addOutput",value:function addOutput(name,value){if(!this.ruleSet.hasOutputName(name)){throw new Error("Undeclared output name '"+name+"' used in '"+this.ruleSet.name+"'.")}this.outputs[name]=typeof value==="function"?value():value}},{key:"addOutputs",value:function addOutputs(outputs){for(var key in outputs){this.addOutput(key,outputs[key])}}},{key:"extendGoogleAnalyticsEvent",value:function extendGoogleAnalyticsEvent(category,action,label,value,eventFn){if(category===undefined){throw new Error("Google event category must be defined")}if(action===undefined){throw new Error("Google event action must be defined")}var event=new _GAEvent2["default"](category,action,label,value);if(!this.ruleSet.hasGoogleAnalyticsEventExtension(event)){throw new Error("Undeclared event extension '"+JSON.stringify(event.toJSON())+" used in '"+this.ruleSet.name+"'.")}event.exportToEvernoteAnalyticsDB();eventFn(event);this.eventExtensions.push(event)}},{key:"addGoogleAnalyticsEvent",value:function addGoogleAnalyticsEvent(action,label,value){if(action===undefined){throw new Error("Google event action must be defined")}var event=new _GAEvent2["default"](_GAEvent2["default"].SPLIT_TEST_CATEGORY,action,label,value);if(!this.ruleSet.hasGoogleAnalyticsEvent(event)){throw new Error("Undeclared event '"+JSON.stringify(event)+"' used in '"+this.ruleSet.name+"'.")}event.exportToEvernoteAnalyticsDB();this.events.push(event);this.extendGoogleAnalyticsEvent(_GAEvent2["default"].SPLIT_TEST_CATEGORY,action,label,value,function(){})}}]);return RuleSetContext}();exports["default"]=RuleSetContext;module.exports=exports["default"]},{"./GAEvent":11}],19:[function(require,module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});function setupGlobalNamespace(){if(typeof uxpuppetmaster!=="undefined"){return uxpuppetmaster}if(typeof window!=="undefined"){return window}if(typeof global!=="undefined"){global.uxpuppetmaster={};return global.uxpuppetmaster}return{}}var UXPNamespace=setupGlobalNamespace();exports["default"]=UXPNamespace;module.exports=exports["default"]}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}]},{},[4]);